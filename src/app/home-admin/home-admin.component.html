<div class="d-flex justify-content-center align-items-center vh-100 vw-100">
  <p-card class="p-card">
    <p-table
    #dt
    stripedRows
    [value]="usuariosModel"
    dataKey="id"
    [paginator]="true"
    [rows]="5"
    [tableStyle]="{ 'min-width': '50rem' }"
    [rowsPerPageOptions]="[5, 10, 20]"
    [globalFilterFields]="['id', 'username', 'role', 'presence']"
    >
    <ng-template #caption>
      <div class="flex">
          <p-iconfield iconPosition="left" class="ml-auto">
              <p-inputicon>
                  <i class="pi pi-search"></i>
              </p-inputicon>
              <input pInputText type="text" (input)="dt.filterGlobal(filtrar($event), 'contains')" placeholder="Buscar" />
          </p-iconfield>
      </div>
  </ng-template>
      <ng-template pTemplate="header">
          <tr>
              <th pSortableColumn="id" style="width:5%">ID
                <p-sortIcon field="code"/>
              </th>
              <th pSortableColumn="username" class="text-center" style="width:30%">
                USUÁRIO<p-sortIcon field="username"/></th>
              <th pSortableColumn="role" class="text-center" style="width:30%">
                PAPEL<p-sortIcon field="role"/></th>
              <th pSortableColumn="presence" class="text-center" style="width:30%">
                PRESENÇA<p-sortIcon field="presence"/></th>
              <th class="text-end" style="width:5%"></th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-usuario>
          <tr>
            <td>{{ usuario.id }}</td>
            <td class="text-center">{{ usuario.username }}</td>
            <td class="text-center">{{ usuario.role }}</td>
            @if (usuario.presence) {
              <td class="text-center"><i class="pi pi-check" style="color: green"></i></td>
            } @else  {
              <td class="text-center"><i class="pi pi-times" style="color: red"></i></td>
            }
            <td class="text-end"><i class="pi pi-trash delete-icon" (click)="deletar()"></i></td>
          </tr>
      </ng-template>
    </p-table>
    <div class="d-flex justify-content-end">
      <button style="margin-right: 1rem; width: 156.02px;" pButton severity="secondary" (click)="sair()">Sair</button>
      <button pButton (click)="cadastrarUsuario()">Criar novo usuário</button>
    </div>
  </p-card>
</div>



